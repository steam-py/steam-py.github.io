<!--
The MIT License (MIT)

Copyright (c) 2015-2020 Rapptz

Permission is hereby granted, free of charge, to any person obtaining a
copy of this software and associated documentation files (the "Software"),
to deal in the Software without restriction, including without limitation
the rights to use, copy, modify, merge, publish, distribute, sublicense,
and/or sell copies of the Software, and to permit persons to whom the
Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
DEALINGS IN THE SOFTWARE.
-->

<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Quickstart</title> 
  <!-- end extra head -->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
  <link rel="stylesheet" type="text/css" href="../_static/basic.css" />
  <link rel="stylesheet" href="../_static/style.css" type="text/css" />
  <link rel="stylesheet" href="../_static/codeblocks.css" type="text/css" />
  <link rel="stylesheet" href="../_static/icons.css" type="text/css" />
  <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
  <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
  <script src="../_static/jquery.js"></script>
  <script src="../_static/underscore.js"></script>
  <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
  <script src="../_static/doctools.js"></script>
  <script src="../_static/custom.js"></script>
  <script src="../_static/settings.js"></script>
  <script src="../_static/copy.js"></script>
  <script src="../_static/sidebar.js"></script>
  <link rel="shortcut icon" href="../_static/favicon.ico"/>
  <link rel="index" title="Index" href="../genindex/" />
  <link rel="search" title="Search" href="../search/" />
</head>
<body>
  <div class="main-grid">
    <header class="grid-item">
      <nav>
        <a href="../" class="main-heading">steam.py</a>
        <a href="https://github.com/Gobot1234/steam.py" title="GitHub"><span class="material-icons custom-icons">github</span></a>
        <a href="https://discord.gg/MQ68WUS" title="Discord"><span class="material-icons custom-icons">discord</span></a>
        <a href="../faq/" title="FAQ"><span class="material-icons">help_center</span></a>
        <a onclick="mobileSearch.open();" title="Search" id="open-search" class="mobile-only"><span class="material-icons">search</span></a>
        <a onclick="mobileSearch.close();" title="Close" id="close-search" class="mobile-only" hidden><span class="material-icons">close</span></a>
      </nav>
      <nav class="mobile-only">
        <form role="search" class="search" action="../search/" method="get">
          <div class="search-wrapper">
            <input type="search" name="q" placeholder="Search documentation" />
            <button type="submit">
              <span class="material-icons">search</span>
            </button>
          </div>
        </form>
      </nav>
    </header>
    <div class="sub-header grid-item">
      <label for="documentation_select">View Documentation For</label>
      <select id="documentation_select" onchange="window.location = this.value;">
        <option value="#" selected>steam</option>
        <option value="../ext/commands/" >steam.ext.commands</option>
      </select>
      <form role="search" class="search" action="../search/" method="get">
        <div class="search-wrapper">
          <input type="search" name="q" placeholder="Search documentation" />
          <button type="submit">
            <span class="material-icons">search</span>
          </button>
        </div>
      </form>
      <a accesskey="S" class="settings" onclick="settingsModal.open();"><span class="material-icons">settings</span></a>
    </div>
    <aside class="grid-item">
      <span id="hamburger-toggle">
        <span class="material-icons">menu</span>
      </span>
      <span id="settings-toggle" class="settings" onclick="settingsModal.open();">
        <span class="material-icons">settings</span>
      </span>
      <div id="sidebar">
  <div>
    <h3><a href="../">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">Quickstart</a><ul>
<li><a class="reference internal" href="#installation">Installation</a></li>
<li><a class="reference internal" href="#the-basics">The Basics</a></li>
<li><a class="reference internal" href="#a-minimal-bot">A Minimal Bot</a></li>
<li><a class="reference internal" href="#a-minimal-bot-with-ext-commands">A Minimal Bot with ext.commands</a></li>
</ul>
</li>
</ul>

  </div>
      </div>
    </aside>
    <main class="grid-item" role="main">
      
  <section id="quickstart">
<h1>Quickstart<a class="headerlink" href="#quickstart" title="Permalink to this heading">¶</a></h1>
<p>A quick start guide for steam.py</p>
<section id="installation">
<span id="installing"></span><h2>Installation<a class="headerlink" href="#installation" title="Permalink to this heading">¶</a></h2>
<p>Installation should be as simple as:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span><span class="c1"># Linux/macOS</span>
python3 -m pip install -U steamio
<span class="c1"># Windows</span>
py -m pip install -U steamio
</pre></div>
</div>
</section>
<section id="the-basics">
<h2>The Basics<a class="headerlink" href="#the-basics" title="Permalink to this heading">¶</a></h2>
<p>steam.py being heavily inspired by and based on discord.py revolves around <a class="reference internal" href="../api/#event-reference"><span class="std std-ref">events</span></a>. An event is
something you listen for and then respond to.</p>
<p>For example, when a trade happens, you will receive an event about it that you can respond to.</p>
<p>A quick example to showcase how events work:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">steam</span>


<span class="k">class</span> <span class="nc">MyClient</span><span class="p">(</span><span class="n">steam</span><span class="o">.</span><span class="n">Client</span><span class="p">):</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">on_ready</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Logged in as&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">user</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">on_trade_receive</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">trade</span><span class="p">:</span> <span class="n">steam</span><span class="o">.</span><span class="n">TradeOffer</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Received trade: #</span><span class="si">{</span><span class="n">trade</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2"> from&quot;</span><span class="p">,</span> <span class="n">trade</span><span class="o">.</span><span class="n">partner</span><span class="p">)</span>


<span class="n">client</span> <span class="o">=</span> <span class="n">MyClient</span><span class="p">()</span>
<span class="n">client</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;username&quot;</span><span class="p">,</span> <span class="s2">&quot;password&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="a-minimal-bot">
<h2>A Minimal Bot<a class="headerlink" href="#a-minimal-bot" title="Permalink to this heading">¶</a></h2>
<p>Let’s make a bot that replies to a specific message and walk you through it.</p>
<p>It looks something like this:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">steam</span>


<span class="k">class</span> <span class="nc">MyClient</span><span class="p">(</span><span class="n">steam</span><span class="o">.</span><span class="n">Client</span><span class="p">):</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">on_ready</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;We have logged in as </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">user</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">on_message</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="n">steam</span><span class="o">.</span><span class="n">Message</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">message</span><span class="o">.</span><span class="n">author</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">user</span><span class="p">:</span>
            <span class="k">return</span>

        <span class="k">if</span> <span class="n">message</span><span class="o">.</span><span class="n">content</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;$hello&quot;</span><span class="p">):</span>
            <span class="k">await</span> <span class="n">message</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="s2">&quot;Hello!&quot;</span><span class="p">)</span>


<span class="n">client</span> <span class="o">=</span> <span class="n">MyClient</span><span class="p">()</span>
<span class="n">client</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;username&quot;</span><span class="p">,</span> <span class="s2">&quot;password&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Lets walk through what this does:</p>
<ol class="arabic simple">
<li><p>We import the steam module, if this raises a <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ModuleNotFoundError" title="(in Python v3.10)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ModuleNotFoundError</span></code></a> see <a class="reference internal" href="#installing"><span class="std std-ref">Installation</span></a> again.</p></li>
<li><p>We then subclass <a class="reference internal" href="../api/#steam.Client" title="steam.Client"><code class="xref py py-class docutils literal notranslate"><span class="pre">steam.Client</span></code></a> to create our own client <code class="docutils literal notranslate"><span class="pre">MyClient</span></code>.</p></li>
<li><p>We register an event <a class="reference internal" href="../api/#steam.Client.on_ready" title="steam.Client.on_ready"><code class="xref py py-meth docutils literal notranslate"><span class="pre">steam.Client.on_ready()</span></code></a> in <code class="docutils literal notranslate"><span class="pre">MyClient</span></code>, which will be called after the client is
ready. This event will print once we log in to inform us as such.</p></li>
<li><p>We then register another event <a class="reference internal" href="../api/#steam.Client.on_message" title="steam.Client.on_message"><code class="xref py py-meth docutils literal notranslate"><span class="pre">steam.Client.on_message()</span></code></a>, when doing so we need to be careful to check the
<a class="reference internal" href="../api/#steam.Message.author" title="steam.Message.author"><code class="xref py py-class docutils literal notranslate"><span class="pre">steam.Message.author</span></code></a> as steam.py fires an event for every message sent. After this we can check the
<a class="reference internal" href="../api/#steam.Message.content" title="steam.Message.content"><code class="xref py py-class docutils literal notranslate"><span class="pre">steam.Message.content</span></code></a> to see if the message startswith the correct phrase of “$hello” to send back our
reply of “Hello!”.</p></li>
<li><p>Finally, we instantiate <code class="docutils literal notranslate"><span class="pre">MyClient</span></code> and use <a class="reference internal" href="../api/#steam.Client.run" title="steam.Client.run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">steam.Client.run()</span></code></a> it with our steam username and password.</p></li>
</ol>
<p>After saving this as <code class="docutils literal notranslate"><span class="pre">example_bot.py</span></code> not called <code class="docutils literal notranslate"><span class="pre">steam.py</span></code> as it will interfere with the library we can run the bot
and watch it come online using:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span><span class="c1"># Linux/macOS</span>
python example_bot.py
<span class="c1"># Windows</span>
py -3 example_bot.py
</pre></div>
</div>
</section>
<section id="a-minimal-bot-with-ext-commands">
<h2>A Minimal Bot with ext.commands<a class="headerlink" href="#a-minimal-bot-with-ext-commands" title="Permalink to this heading">¶</a></h2>
<p>Since code like this is so common steam.py comes with a powerful commands extension to aid with creating commands.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">steam.ext</span> <span class="kn">import</span> <span class="n">commands</span>


<span class="k">class</span> <span class="nc">MyBot</span><span class="p">(</span><span class="n">commands</span><span class="o">.</span><span class="n">Bot</span><span class="p">):</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">on_ready</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;We have logged in as </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">user</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="nd">@commands</span><span class="o">.</span><span class="n">command</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">hello</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ctx</span><span class="p">:</span> <span class="n">commands</span><span class="o">.</span><span class="n">Context</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">await</span> <span class="n">ctx</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="s2">&quot;Hello!&quot;</span><span class="p">)</span>


<span class="n">bot</span> <span class="o">=</span> <span class="n">MyBot</span><span class="p">(</span><span class="n">command_prefix</span><span class="o">=</span><span class="s2">&quot;$&quot;</span><span class="p">)</span>
<span class="n">bot</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;username&quot;</span><span class="p">,</span> <span class="s2">&quot;password&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>This will perform the same as the example using <a class="reference internal" href="../api/#steam.Client.on_message" title="steam.Client.on_message"><code class="xref py py-meth docutils literal notranslate"><span class="pre">steam.Client.on_message()</span></code></a>.</p>
<p>Except with some key differences:</p>
<ol class="arabic simple">
<li><p>We import steam.ext.commands to handle commands.</p></li>
<li><p>We subclass <a class="reference internal" href="../ext/commands/api/#steam.ext.commands.Bot" title="steam.ext.commands.Bot"><code class="xref py py-class docutils literal notranslate"><span class="pre">steam.ext.commands.Bot</span></code></a> to inherit command parsing functionality.</p></li>
<li><p>We swap out the <code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">message.content.startswith(&quot;$hello&quot;):</span></code> line for a command that is registered with the
command’s name using the <a class="reference internal" href="../ext/commands/api/#steam.ext.commands.command" title="steam.ext.commands.command"><code class="xref py py-func docutils literal notranslate"><span class="pre">steam.ext.commands.command()</span></code></a>.</p></li>
<li><p>Inside the <code class="docutils literal notranslate"><span class="pre">hello</span></code> command we are able to access the context of the invocation using the <code class="docutils literal notranslate"><span class="pre">ctx</span></code> parameter.
This allows us to use the <a class="reference internal" href="../ext/commands/api/#steam.ext.commands.Context.send" title="steam.ext.commands.Context.send"><code class="xref py py-meth docutils literal notranslate"><span class="pre">steam.ext.commands.Context.send()</span></code></a> to send the same response.</p></li>
<li><p>When instantiating the bot we pass the <code class="docutils literal notranslate"><span class="pre">command_prefix</span></code> key-word argument to make the bot only respond when the
message’s content starts with the prefix “$”.</p></li>
</ol>
</section>
</section>


    </main>
    <footer class="grid-item">
        &#169; Copyright 2020, Gobot1234.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 5.1.1.
    </footer>
  </div>
  <div id="settings" class="modal" onclick="if (event.target == this){ settingsModal.close(); }" hidden>
    <div class="modal-content">
      <span class="close" onclick="settingsModal.close();" title="Close">
        <span class="material-icons">close</span>
      </span>
      <h1>Settings</h1>

      <h2>Font</h2>
      <div class="setting">
        <h3>Use a serif font:
          <label class="toggle"
            title="Use a serif font? Your system font will be used, falling back to serif.">
            <input type="checkbox" name="useSerifFont" onclick="updateSetting(this);">
            <span class="toggle-slider"></span>
          </label>
        </h3>
      </div>

      <h2>Theme</h2>
      <div class="setting">
        <h3>
          <label class="toggle" title="Set your theme based on your system preferences">
            <input type="radio" name="setTheme" onclick="updateSetting(this);" value="automatic" checked>
          </label>
          Automatic
        </h3>
        <h3>
          <label class="toggle" title="Set your theme to light theme">
            <input type="radio" name="setTheme" onclick="updateSetting(this);" value="light">
          </label>
          Light
        </h3>
        <h3>
          <label class="toggle" title="Set your theme to dark theme">
            <input type="radio" name="setTheme" onclick="updateSetting(this);" value="dark">
          </label>
          Dark
        </h3>
      </div>

    </div>
  </div>

  <div id="to-top" onclick="window.scrollTo(0, 0)">
    <span><span class="material-icons">arrow_upward</span> to top</span>
  </div>

</body>
</html>